{% extends "base.html" %}

{% block title %}App Users - Climber Project{% endblock title %}

{% block content %}
<div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-semibold text-gray-800">App Users</h1>
    <a href="{% url 'appuser_create' %}" hx-get="{% url 'appuser_create' %}" hx-target="#modal-content" hx-trigger="click" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
        Add App User
    </a>
</div>

<div id="appuser-list" class="bg-white shadow-md rounded-lg p-6">
    {% if appusers %}
        <ul class="space-y-4">
            {% for appuser in appusers %}
            <li class="border-b pb-2 mb-2 flex justify-between items-center">
                <a href="{% url 'appuser_detail' appuser.uuid %}" class="text-lg text-blue-600 hover:underline">{{ appuser.user.username }} (Group: {{ appuser.group.name }})</a> {# Use .uuid #}
                <div>
                    <a href="{% url 'appuser_update' appuser.uuid %}" class="text-sm text-yellow-600 hover:underline mr-2">Edit</a> {# Use .uuid #}
                    <a href="{% url 'appuser_delete' appuser.uuid %}" class="text-sm text-red-600 hover:underline">Delete</a> {# Use .uuid #}
                </div>
            </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="text-gray-500">No app users found. <a href="{% url 'appuser_create' %}" class="text-blue-500 hover:underline">Add one?</a></p>
    {% endif %}
</div>

{# Placeholder for HTMX modal content #}
<div id="modal-content"></div>
{% endblock content %}
